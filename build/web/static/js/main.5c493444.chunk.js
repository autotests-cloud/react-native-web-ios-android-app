(this.webpackJsonpQaApp=this.webpackJsonpQaApp||[]).push([[0],{130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),i=a.n(o),l=a(10),c=a(79),s=a(135),u=a(136),g=a(137),d=a(11),b=a(76),m=a(84),p=a(81),h=a(4),f=a(9),E={pending:!0},y={en:{Login:"Login",Password:"Password",Language:"Language",Remember:"Remember me",Submit:"Submit",LoginValidation:"Login must be more than 4 characters",PasswordValidation:"Password must be more than 4 characters",logout:"Logout",Hello:"Hello","Not authorized":"Not authorized",en:"EN",ru:"RU","Header label":"Header label",Logout:"Logout","Content block":"Content block","Authorization form":"Authorization form","Login input":"Login input","Password input":"Password input","Language select":"Language select","Remember me checkbox":"Remember me checkbox","Login button":"Login button","Private content":"Private content","Language menu":"Language menu",private1:"Here is your private content #1",private2:"and private content #2"},ru:{Login:"\u041b\u043e\u0433\u0438\u043d",Password:"\u041f\u0430\u0440\u043e\u043b\u044c",Language:"\u042f\u0437\u044b\u043a",Remember:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c",Submit:"\u0412\u043e\u0439\u0442\u0438",LoginValidation:"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 \u0447\u0435\u0442\u044b\u0440\u0435\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",PasswordValidation:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 \u0447\u0435\u0442\u044b\u0440\u0435\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",logout:"\u0412\u044b\u0445\u043e\u0434",Hello:"\u041f\u0440\u0438\u0432\u0435\u0442","Not authorized":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c",en:"EN",ru:"RU","Header label":"\u041d\u0430\u0434\u043f\u0438\u0441\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430",Logout:"\u0412\u044b\u0445\u043e\u0434","Content block":"\u0411\u043b\u043e\u043a \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430","Authorization form":"\u0424\u043e\u0440\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","Login input":"\u041f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430 \u043b\u043e\u0433\u0438\u043d\u0430","Password input":"\u041f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430 \u043f\u0430\u0440\u043e\u043b\u044f","Language select":"\u0412\u044b\u0431\u043e\u0440 \u044f\u0437\u044b\u043a\u0430","Remember me checkbox":"\u0427\u0435\u043a\u0431\u043e\u043a\u0441 \u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f","Login button":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u0445\u043e\u0434\u0430","Private content":"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","Language menu":"\u041c\u0435\u043d\u044e \u0432\u044b\u0431\u043e\u0440\u0430 \u044f\u0437\u044b\u043a\u0430",private1:"\u0412\u0430\u0448 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 #1 ",private2:"\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 #2"}},v={lang:"en",languages:Object.keys(y),translations:y.en},S=function(e){return{type:"SWITCH/LANG",payload:e}},O=function(){var e=Object(l.c)((function(e){return e.app})),t=e.lang,a=e.translations,n=e.languages,o=Object(l.b)();return r.a.createElement(d.a,{style:w.langContainer,accessibilityLabel:a["Language menu"],testID:a["Language menu"]},n.map((function(e,i){return r.a.createElement(m.a,{style:w.langItem,key:e,onPress:function(t){return function(e){o(S(e))}(e)}},r.a.createElement(b.a,{style:t===e?w.active:w.lang},a[e]),i<n.length-1&&r.a.createElement(b.a,{style:w.separator},"/"))})))},w=h.a.create({langItem:{display:"flex",flexDirection:"row"},langContainer:{position:"absolute",top:0,right:0,height:60,fontSize:16,borderWidth:0,flexDirection:"row",backgroundColor:"rgb(33, 150, 243)",display:"flex",alignItems:"center",color:"white",fontWeight:"bold",paddingHorizontal:24,justifyContent:"center",width:90},separator:{color:"white",paddingHorizontal:6},lang:{textDecorationLine:"underline",color:"white"},active:{color:"white"}}),x=a(29),L=a(132),T=a(138),j=a(133),C=a(134),k=a(77),H=a.n(k),P=a(78),R=new(a.n(P).a);R.is().min(8).is().max(100).has().uppercase().has().lowercase().has().digits(1).has().not().spaces().is().not().oneOf(["Passw0rd","Password123"]);var I=function(e){var t=e.error;return(null===t||void 0===t?void 0:t.length)?r.a.createElement(d.a,{style:z.validateError},r.a.createElement(b.a,{style:z.validateErrorMessage},"Your password should contain:"),r.a.createElement(d.a,{style:{marginLeft:16}},t.includes("min")&&r.a.createElement(b.a,{style:z.validateErrorMessage},"Minimum length of 8 characters"),t.includes("digits")&&r.a.createElement(b.a,{style:z.validateErrorMessage},"Numerical characters (0-9)"),t.includes("uppercase")&&r.a.createElement(b.a,{style:z.validateErrorMessage},"Uppercase letter"),t.includes("lowercase")&&r.a.createElement(b.a,{style:z.validateErrorMessage},"Lowercase letter"),t.includes("spaces")&&r.a.createElement(b.a,{style:z.validateErrorMessage},"No include spaces"))):null},U=function(e){return e.error?r.a.createElement(d.a,{style:z.validateError},r.a.createElement(b.a,{style:z.validateErrorMessage},"Wrong mail syntaxis!")):null},A=function(){var e=Object(l.c)((function(e){return e.app})),t=e.translations,a=e.lang,o=Object(l.c)((function(e){return e.auth})).error,i=Object(l.b)(),c=Object(n.useState)(!1),s=Object(x.a)(c,2),u=s[0],g=s[1],p=Object(n.useState)(!1),h=Object(x.a)(p,2),f=h[0],E=h[1],y=Object(n.useState)(""),v=Object(x.a)(y,2),O=v[0],w=v[1],k=Object(n.useState)(""),P=Object(x.a)(k,2),A=P[0],D=P[1],W=Object(n.useState)(!1),M=Object(x.a)(W,2),G=M[0],N=M[1];Object(n.useEffect)((function(){if((O+A).length){var e=!H.a.validate(O);g(e);var t=R.validate(A,{list:!0});E(t)}}),[O,A,a,G,t]);return r.a.createElement(d.a,{style:z.loginContainer,accessibilityLabel:t["Authorization form"],testID:t["Authorization form"]},r.a.createElement(d.a,{style:z.label},r.a.createElement(b.a,null,t.Login,":"),r.a.createElement(L.a,{style:z.input,onChangeText:w,value:O,accessibilityLabel:t["Login input"],testID:t["Login input"]}),r.a.createElement(U,{error:u})),r.a.createElement(d.a,{style:z.label},r.a.createElement(b.a,null,t.Password,":"),r.a.createElement(L.a,{style:z.input,onChangeText:D,value:A,accessibilityLabel:t["Password input"],testID:t["Password input"],secureTextEntry:!0}),r.a.createElement(I,{error:f})),r.a.createElement(d.a,{style:z.loginOptions},r.a.createElement(d.a,{style:z.optionLabel},r.a.createElement(b.a,{style:z.optionLabelText},t.Language,":"),r.a.createElement(T.a,{itemStyle:{fontSize:13},mode:T.a.MODE_DROPDOWN,style:z.optionPicker,selectedValue:a,onValueChange:function(e){i(S(e))},accessibilityLabel:t["Language select"],testID:t["Language select"]},r.a.createElement(T.a.Item,{label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",value:"ru"}),r.a.createElement(T.a.Item,{label:"English",value:"en"}))),r.a.createElement(d.a,{style:z.optionLabel},r.a.createElement(b.a,{style:z.optionLabelText},t.Remember,":"),r.a.createElement(m.a,{onPress:function(e){return N(!G)}},r.a.createElement(j.a,{boxType:"square",style:z.CheckBox,value:G,accessibilityLabel:t["Remember me checkbox"],testID:t["Remember me checkbox"]})))),r.a.createElement(d.a,{style:z.submitWrapper},r.a.createElement(C.a,{style:z.loginButton,disabled:A.length<8||O.length<6||u||f.length,accessibilityLabel:t["Login button"],testID:t["Login button"],onPress:function(){u||f.length||i({type:"POST/AUTH/REQUEST",payload:{email:O,password:A,lang:a,remember:G}})},title:t.Submit}),o?r.a.createElement(b.a,{style:z.validateErrorMessage},o.message):null))},z=h.a.create({loginContainer:{alignItems:"center",display:"flex",justifyContent:"center",width:"100%"},label:{textAlign:"left",flexDirection:"column",fontSize:13,marginTop:8,display:"flex",alignSelf:"stretch"},optionLabel:{textAlign:"left",flexDirection:"row",fontSize:13,marginTop:"web"===c.a.OS?16:32,height:25,alignItems:"center",alignSelf:"stretch"},CheckBox:{marginRight:8,fontSize:10,height:"web"===c.a.OS?16:20,width:"web"===c.a.OS?16:20,borderColor:"gray",marginLeft:16,zIndex:10},optionPicker:{marginRight:32,marginLeft:16,width:150,height:"web"===c.a.OS?24:70,fontSize:12,justifyContent:"center",zIndex:0},input:{fontSize:15,borderColor:"gray",borderWidth:1,marginTop:8,padding:4,marginLeft:16,alignSelf:"stretch",zIndex:10},loginButton:{borderColor:"gray",borderWidth:1,paddingHorizontal:16,paddingVertical:8},submitWrapper:{marginTop:16,marginLeft:16,borderWidth:1,borderColor:"web"===c.a.OS?"transparent":"lightgray",alignSelf:"stretch"},loginOptions:{flexDirection:"column",justifyContent:"space-between",marginTop:"web"===c.a.OS?8:32,height:"web"===c.a.OS?80:130,display:"flex",alignItems:"center",zIndex:1,marginBottom:32,overflow:"hidden"},optionLabelText:{width:120,textAlign:"right"},passwordError:{},loginError:{},validateError:{marginTop:2,padding:4,marginLeft:16,alignSelf:"stretch",zIndex:10},validateErrorMessage:{fontSize:13,color:"red"}}),D=function(){var e=Object(l.c)((function(e){return e.app})).translations;return r.a.createElement(d.a,{style:W.userContainer},r.a.createElement(b.a,{style:W.userContent,accessibilityLabel:e["Private content"],testID:e["Private content"]},e.private1),r.a.createElement(b.a,{style:W.userContent,accessibilityLabel:e["Private content"],testID:e["Private content"]},e.private2))},W=h.a.create({userContainer:{alignSelf:"stretch",textAlign:"center",justifyContent:"center",display:"flex",width:310},userContent:{alignSelf:"stretch",textAlign:"center"}}),M=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.app})),a=t.lang,o=t.translations,i=Object(l.c)((function(e){return e.auth})),p=i.user,h=i.pending;Object(n.useEffect)((function(){e({type:"GET/AUTH/REQUEST"})}),[e]),Object(n.useEffect)((function(){"web"===c.a.OS&&(window.location.hash=a)}),[a]),Object(n.useEffect)((function(){"web"===c.a.OS&&(document.querySelector("title").innerText=p?"Main page":"Login page")}),[p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{barStyle:"dark-content"}),r.a.createElement(u.a,null,r.a.createElement(g.a,{contentInsetAdjustmentBehavior:"automatic",style:N.scrollView},r.a.createElement(d.a,{style:N.appContainer},r.a.createElement(d.a,{style:N.appHeader},r.a.createElement(b.a,{style:N.appHeaderText,accessibilityLabel:o["Header label"],testID:o["Header label"]},p?"".concat(o.Hello,", ").concat(p.email,"!"):h?null:o["Not authorized"])),p?r.a.createElement(m.a,{accessibilityLabel:o.Logout,testID:o.Logout,style:N.logout,onPress:function(){e({type:"DELETE/AUTH/REQUEST"})}},r.a.createElement(b.a,{style:N.logoutText},o.logout," ")):h?null:r.a.createElement(O,null),r.a.createElement(d.a,{style:N.appContent,accessibilityLabel:o["Content block"],testID:o["Content block"]},p?r.a.createElement(D,{user:p}):h?null:r.a.createElement(A,null))))))},G=p.a.get("window").width>410?void 0:410,N=h.a.create({scrollView:{backgroundColor:"white",height:"100%"},appContainer:{flex:1,textAlign:"center",flexDirection:"column",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},appContent:{width:310,marginTop:32,flexWrap:"wrap",flexDirection:"column",alignSelf:"center"},appHeader:{display:"flex",height:60,alignSelf:"stretch",textAlign:G?"left":"center",backgroundColor:"#282c34",textAlignVertical:"center",alignItems:G?"left":"center",justifyContent:"center",width:G,paddingLeft:24},appHeaderText:{fontSize:22,color:"white"},logout:{position:"absolute",top:0,right:0,height:60,fontSize:16,borderWidth:0,backgroundColor:"rgb(33, 150, 243)",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontWeight:"bold",paddingHorizontal:24},logoutText:{color:"white"}}),B=a(18),Q=a(42),V=a(47),F=a(85),q=Object(B.c)({router:Q.routerReducer,app:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f.a)({},v),a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DELETE/AUTH/REQUEST":return Object(f.a)({},v);case"SWITCH/LANG":return Object(f.a)(Object(f.a)({},t),{},{lang:a.payload,translations:y[a.payload]});case"POST/AUTH/SUCCESS":case"GET/AUTH/SUCCESS":var n=(null===(e=a.payload.user)||void 0===e?void 0:e.lang)||t.lang;return Object(f.a)(Object(f.a)({},t),{},{lang:n,translations:y[n]});default:return t}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST/AUTH/REQUEST":return Object(f.a)(Object(f.a)({},e),{},{success:void 0,error:void 0,pending:void 0});case"POST/AUTH/SUCCESS":case"GET/AUTH/SUCCESS":return Object(f.a)(Object(f.a)({},t.payload),{},{success:!0,error:void 0,pending:void 0});case"POST/AUTH/ERROR":case"GET/AUTH/ERROR":return Object(f.a)(Object(f.a)({},e),{},{success:void 0,error:t.error,pending:void 0});case"DELETE/AUTH/REQUEST":return localStorage.removeItem("token"),Object(f.a)(Object(f.a)({},E),{},{pending:void 0});default:return e}}}),J=a(19),_=a.n(J),Y=a(16),$=a(82),K=a(83),X=a.n(K),Z="".concat("http://136.243.89.21:3005/"),ee=function(){var e=Object($.a)(_.a.mark((function e(t){var a,n,r,o=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2?o[2]:void 0,r=o.length>3?o[3]:void 0,e.next=5,X()({url:t,method:a,params:n,baseURL:Z,data:r,headers:{Authorization:"Bearer "+(localStorage.getItem("token")||sessionStorage.getItem("token"))}}).then((function(e){return e?Promise.resolve(e.data):Promise.reject(null)})).catch((function(e){return console.error(e),Promise.reject(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=_.a.mark(re),ae=_.a.mark(oe),ne=_.a.mark(ie);function re(){var e,t,a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(Y.d)("POST/AUTH/REQUEST");case 3:return e=n.sent,n.prev=4,n.next=7,Object(Y.a)(ee,"/api/auth/register_login","POST",null,e.payload);case 7:return t=n.sent,a=t.token,e.payload.remember?localStorage.setItem("token",a):sessionStorage.setItem("token",a),n.next=12,Object(Y.c)({type:"POST/AUTH/SUCCESS",payload:t});case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(4),n.next=18,Object(Y.c)({type:"POST/AUTH/ERROR",error:n.t0});case 18:n.next=0;break;case 20:case"end":return n.stop()}}),te,null,[[4,14]])}function oe(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(Y.d)("GET/AUTH/REQUEST");case 3:if(t.prev=3,!sessionStorage.getItem("token")&&!localStorage.getItem("token")){t.next=12;break}return t.next=7,Object(Y.a)(ee,"/api/auth/","GET");case 7:return e=t.sent,t.next=10,Object(Y.c)({type:"GET/AUTH/SUCCESS",payload:e});case 10:t.next=14;break;case 12:return t.next=14,Object(Y.c)({type:"GET/AUTH/ERROR"});case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(3),t.next=20,Object(Y.c)({type:"GET/AUTH/ERROR",error:t.t0});case 20:t.next=0;break;case 22:case"end":return t.stop()}}),ae,null,[[3,16]])}function ie(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.b)(re);case 2:return e.next=4,Object(Y.b)(oe);case 4:case"end":return e.stop()}}),ne)}var le={auth:ie},ce=Object(F.a)(),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(V.b)(),a=[],n=[t,Object(Q.routerMiddleware)(ce)],r=B.d.apply(void 0,[B.a.apply(void 0,n)].concat(a)),o=Object(B.e)(q,e,r);return o.close=function(){return o.dispatch(V.a)},Object.keys(le).forEach((function(e){return t.run(le[e])})),o}(),ue=function(){return r.a.createElement(l.a,{store:se},r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,a){e.exports=a(130)}},[[86,1,2]]]);